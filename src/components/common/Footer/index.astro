---
// src/components/common/Footer/index.astro
import { t, type Locale } from '../../../i18n/i18n';
import { logos } from '../../../config/assets';
import './styles.css';
import Skeleton from './Skeleton.astro';
import LazyImage from '../LazyImage.astro';

export interface Props {
  currentLang: Locale;
  loading?: boolean;
}

const { currentLang, loading = false } = Astro.props;

// Obtener textos del footer desde los archivos de traducción
const mainText = t('footer.main_text', { namespace: 'common', locale: currentLang });
const description = t('footer.description', { namespace: 'common', locale: currentLang });
const followUs = t('footer.follow_us', { namespace: 'common', locale: currentLang });
const contactUs = t('footer.contact_us', { namespace: 'common', locale: currentLang });
const choose = t('footer.choose', { namespace: 'common', locale: currentLang });
const instagramText = t('footer.instagram_text', { namespace: 'common', locale: currentLang });
const facebookText = t('footer.facebook_text', { namespace: 'common', locale: currentLang });
const email = t('footer.email', { namespace: 'common', locale: currentLang });
const copyrightText = t('footer.copyright', { namespace: 'common', locale: currentLang });
const ranchitas = t('footer.ranchitas', { namespace: 'common', locale: currentLang });
const help = t('footer.help', { namespace: 'common', locale: currentLang });
const tiktokText = t('footer.tiktok_text', { namespace: 'common', locale: currentLang });
const products = t('footer.products', { namespace: 'common', locale: currentLang });
const recipes = t('footer.recipes', { namespace: 'common', locale: currentLang });
const news = t('footer.news', { namespace: 'common', locale: currentLang });
const promos = t('footer.promotios', { namespace: 'common', locale: currentLang });
const brand = t('footer.brand', { namespace: 'common', locale: currentLang });
const buy = t('footer.buy', { namespace: 'common', locale: currentLang });
const mainText2 = t('footer.main_text2', { namespace: 'common', locale: currentLang });
const emailPlaceholder = t('footer.email_placeholder', { namespace: 'common', locale: currentLang });
const subscribeButton = t('footer.subscribe_button', { namespace: 'common', locale: currentLang });
---

{loading ? (
  <Skeleton />
) : (
  <footer class="bg-[#D61F2C] text-white relative overflow-hidden z-10">
    <div class="container mx-auto px-6 lg:px-12 py-16">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-24">
        
        <!-- Columna Izquierda: Título, Descripción y Newsletter -->
        <div class="flex flex-col justify-start">
          <h3 class="font-title text-5xl md:text-6xl lg:text-7xl font-bold mb-6 leading-tight">
            {mainText}<br />{mainText2}
          </h3>
          <p class="font-sans italic text-base md:text-lg leading-relaxed mb-8 max-w-lg">
            {description}
          </p>
          
          <!-- Formulario de Newsletter -->
          <form class="flex flex-col sm:flex-row gap-3 max-w-xl">
            <input 
              type="email" 
              placeholder={emailPlaceholder}
              class="flex-1 px-5 py-4 rounded-[10px] text-gray-600 font-sans text-base focus:outline-none focus:ring-2 focus:ring-accent placeholder:text-gray-400"
              required
            />
            <button 
              type="submit"
              class="bg-[#F99F33] hover:bg-[#F99F33]/90 text-white font-title font-bold px-12 py-4 rounded-full transition-all duration-200 text-lg whitespace-nowrap"
            >
              {subscribeButton}
            </button>
          </form>
        </div>

        <!-- Columna Derecha: Links de Navegación -->
        <div class="grid grid-cols-3 gap-8 lg:gap-12">
          
          <!-- Redes Sociales -->
          <div class="text-start">
            <h3 class="font-title text-2xl font-bold mb-4 uppercase">
              {followUs}
            </h3>
            <div class="flex flex-col space-y-3">
              <a href="#" class="font-sans text-xl hover:text-accent transition-colors duration-200">
                {facebookText}
              </a>
              <a href="#" class="font-sans text-xl hover:text-accent transition-colors duration-200">
                {instagramText}
              </a>
              <a href="#" class="font-sans text-xl hover:text-accent transition-colors duration-200">
                {tiktokText}
              </a>
            </div>
          </div>

          <!-- Ranchitas -->
          <div class="text-start">
            <h3 class="font-title text-2xl font-bold mb-4 uppercase">
              {ranchitas}
            </h3>
            <div class="flex flex-col space-y-3">
              <a href={`/${currentLang}/products`} class="font-sans text-xl hover:text-accent transition-colors duration-200">
                {products}
              </a>
              <a href={`/${currentLang}/recipes`} class="font-sans text-xl hover:text-accent transition-colors duration-200">
                {recipes}
              </a>
              <a href={`/${currentLang}/news`} class="font-sans text-xl hover:text-accent transition-colors duration-200">
                {news}
              </a>
              <a href={`/${currentLang}/promotions`} class="font-sans text-xl hover:text-accent transition-colors duration-200">
                {promos}
              </a>
            </div>
          </div>

          <!-- Ayuda -->
          <div class="text-start">
            <h3 class="font-title text-2xl font-bold mb-4 uppercase">
              {help}
            </h3>
            <div class="flex flex-col space-y-3">
              <a href={`/${currentLang}/contact`} class="font-sans text-xl hover:text-accent transition-colors duration-200">
                {contactUs}
              </a>
              <a href={`/${currentLang}/brand`} class="font-sans text-xl hover:text-accent transition-colors duration-200">
                {brand}
              </a>
              <a href={`/${currentLang}/shop`} class="font-sans text-xl hover:text-accent transition-colors duration-200">
                {buy}
              </a>
            </div>
          </div>

        </div>
      </div>
    </div>
  </footer>
)}