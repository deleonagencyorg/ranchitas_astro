---
import { button, span } from 'framer-motion/m';

interface CardQuizInterface {
    badge?: string;
    title?: string;
    titleHighlight?: string;
    description1?: string;
    description2?: string;
    videoSrc?: string;
    videoPoster?: string;
    imageSrc?: string;
    backgroundColor?: string;
    titleButton?: string;
}


interface Props {
    cardQuiz: CardQuizInterface;
}

const {
    cardQuiz
} = Astro.props;

const firstSegment = (Astro.url.pathname.split('/')[1] || '').toLowerCase();
const derivedLang = firstSegment === 'en' || firstSegment === 'es' ? firstSegment : 'es';

const mediaSrc = cardQuiz.videoSrc || cardQuiz.imageSrc;
const mediaPoster = cardQuiz.videoPoster;
---

<section class="hidden md:block xl:block w-full py-6 md:py-12 px-4 md:px-8 xl:-mt-[100px] md:-mt-[90px]">
    <div class="max-w-7xl mx-auto">
        <div
            class="bg-[#0041CD] rounded-[20px] md:rounded-[20px] shadow-xl p-6 md:p-8 xl:p-12"
        >
            <div
                class="flex flex-col xl:flex-row items-center gap-6 md:gap-8 xl:gap-12"
            >
                <!-- image Container -->
                <div class="w-full xl:w-1/2">
                    <div
                        class="rounded-[20px] md:rounded-[20px] flex items-center justify-center shadow-lg overflow-hidden aspect-video"
                        style={`background-color: ${cardQuiz.backgroundColor}`}
                    >
                        <video
                            class="w-full h-full object-cover"
                            src={mediaSrc}
                            poster={mediaPoster}
                            autoplay
                            muted
                            loop
                            playsinline
                        ></video>
                    </div>
                </div>

                <!-- Contenido de texto -->
                <div class="w-full xl:w-1/2 space-y-4 md:space-y-6">
                    <!-- Título con dos colores -->
                    <h1
                        class="text-[49px] font-bold"
                    >
                        <span class="text-white font-heading text-[59px] font-bold leading-none">{cardQuiz.title} </span>
                        <br />
                        <span class="text-white font-heading text-[59px] font-bold leading-none">{cardQuiz.titleHighlight}</span>
                     </h1>

                    <!-- Descripción párrafo 1 -->
                    <p
                        class="text-white text-sm md:text-base xl:text-lg leading-relaxed"
                    >
                        {cardQuiz.description1}
                    </p>

                    <button type="button" onclick="window.openQuizModal && window.openQuizModal()" class="bg-white text-white text-[19px] px-5 py-2 rounded-full font-bold w-full !bg-[#009DDA] inline-flex items-center justify-center hover:opacity-90 transition-opacity">
                        {cardQuiz.titleButton}
                    </button>

                </div>
            </div>
        </div>
    </div>
</section>

<section class="block md:hidden px-4 py-6 mx-auto max-w-full -mt-[80px]">
    <div class="bg-[#0041CD] rounded-3xl p-4 space-y-4">
        
        <div class="w-full">
            <div
            class="rounded-[20px] flex items-center justify-center shadow-lg overflow-hidden h-[240px] sm:h-[280px]"
                style={`background-color: ${cardQuiz.backgroundColor}`}
            >
            <video
                class="w-full h-full object-cover"
                src={mediaSrc}
                poster={mediaPoster}
                autoplay
                muted
                loop
                playsinline
            ></video>
            </div>
        </div>
      <h2 class="text-3xl sm:text-4xl font-extrabold leading-tight mt-4">
        <span class="text-white">{cardQuiz.title} </span> <br />
        <span class="text-white">{cardQuiz.titleHighlight}</span>
      </h2>
  
      <p class="text-white text-sm sm:text-base leading-relaxed">
        {cardQuiz.description1}
      </p>

      <button type="button" onclick="window.openQuizModal && window.openQuizModal()" class="bg-white text-white text-base sm:text-[19px] px-5 py-2 rounded-full font-bold w-full !bg-[#009DDA] inline-flex items-center justify-center hover:opacity-90 transition-opacity">
        {cardQuiz.titleButton}
    </button>
  
    </div>
</section>
  
  
